{% extends 'base.html' %}
{% block content %}

<div id="sub-page">

    <div class="toolbar">

        <button id="btn-reload-sub" class="btn">불러오기</button>
        <input id="excel-file" type="file" accept=".xlsb,.xlsx,.xls,.xlsm,.csv" style="display:none">

        <span style="font-size:12px;color:#666;">
            BOM 파일 불러오기
        </span>

    </div>

    <div class="sub-layout">
        <div class="sub-tree-panel">
            <div class="sub-tree-header">SUB 트리</div>
            <div class="tree-info-text" id="tree-caption">
                SUB를 선택한 후 불러오기를 눌러 주세요.
            </div>
            <div id="sub-tree-root" class="sub-tree-root"></div>
        </div>

        <div class="sub-detail-panel">
            <div class="panel-title">선택한 노드 상세</div>

            <div id="detail-empty">현재 선택된 노드가 없습니다.</div>

            <div id="detail-form" style="display:none;">
                <div class="form-row">
                    <label>부품명</label>
                    <input type="text" id="detail-name">
                </div>
                <div class="form-row">
                    <label>품번</label>
                    <input type="text" id="detail-part_no">
                </div>
                <div class="form-row">
                    <label>재질</label>
                    <input type="text" id="detail-material">
                </div>
                <div class="form-row">
                    <label>수량(EA)</label>
                    <input type="number" id="detail-qty" min="0" step="0.1">
                </div>
                <div class="form-row">
                    <label>타입</label>
                    <select id="detail-type">
                        <option value="PART">PART</option>
                        <option value="ASSY">ASSY</option>
                        <option value="외주">외주</option>
                    </select>
                </div>                
                <div class="detail-footer">
                    <button class="btn" id="btn-apply-local">저장</button>
                    <button class="btn danger" id="btn-clear-selection">선택 해제</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ===================== -->
<!-- 사양 선택 모달 (1단계: UI만) -->
<!-- ===================== -->
<div id="spec-modal" class="modal-backdrop" style="display:none;">
    <div class="modal">
        <div class="modal-header">
            <h3>사양 선택</h3>
        </div>

        <div class="modal-body">
            <div id="spec-list"></div>
        </div>

        <div class="modal-footer">
            <button class="btn" id="btn-spec-apply">확인</button>
            <button class="btn danger" id="btn-spec-cancel">취소</button>
        </div>
    </div>
</div>



<script src="/static/js/sub.js"></script>

{% endblock %}
